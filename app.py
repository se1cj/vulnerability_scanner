from celery import Celery
import schedule
import time

app = Celery('tasks', broker='redis://localhost:6379/0')

@app.task
def scan_vulnerabilities():
    # فحص الثغرات الأمنية
    pass

def job():
    scan_vulnerabilities.delay()

schedule.every().day.at("10:30").do(job)

while True:
    schedule.run_pending()
    time.sleep(1)
